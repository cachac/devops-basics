# 6. Integración Continua <!-- omit in toc -->

# 1. Crear cuenta en hub.docker.com

# 2. Construcción Manual
## 2.1. Clonar el código del proyecto
```
git clone https://github.com/cachac/public-api.git
rm -rf public-api/.git
cp -r public-api/. .
rm -rf public-api
```


## 2.2. Construir la imagen y ejecutar el contenedor
```
# Carga variables de entorno
source .env.qa
echo $APP_ENV_KUBE_API

docker build . -f qa.dockerfile -t <DOCKER USERNAME>/kubelabs_publicapi:1.0.0 --build-arg APP_ENV="$APP_ENV_KUBE_API"
docker run --rm --name api -p 3000:3000 <DOCKER USERNAME>/kubelabs_publicapi:1.0.0
```

## 2.3. Probar la aplicacción
```
# local
curl localhost:3000

# browser
<IP publica>:3000
```

## 2.4. Subir la imagen a Dockerhub

```
docker login

docker push <DOCKER USERNAME>/kubelabs_publicapi:1.0.0
```
## 2.5. Revisar la imagen en Dockerhub
## 2.6. Sincronizar cambios con main

# 3. Integración Continua
